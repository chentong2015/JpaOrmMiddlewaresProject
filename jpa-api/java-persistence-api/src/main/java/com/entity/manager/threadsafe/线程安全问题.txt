TODO. EntityManager不是线程安全的
EntityManager本质上是一个数据库连接的上下文容器，内部维护持久化的Context(一级缓存，SQL执行状态)
EntityManager不能在多线程中共享，可能造成不可预期的结果
- 查询结果相互覆盖或污染
- 数据库连接竞争
- 事务上下文混乱
- 缓存不一致
异常表现
- 返回空列表但实际有数据
- 查询超时或阻塞
- 获取到不正确的结果计数

实战案例:
主线程使用EntityManager，异步线程使用独立的EntityManager(无资源共享)
主线程EntityManager保持打开状态，用于返回的实体状态的延迟加载(获取关联数据)